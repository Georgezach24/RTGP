# Makefile for RTGP lab project - Win environment
# Visual Studio compiler version

FILENAME = project
CC = cl.exe
CCFLAGS  = /Od /Zi /EHsc /MT

# Fix include paths: relative from project/ to include/
INCLUDES = /I../include /I../include/imgui /I../include/imgui/backends /I../include/glad

# Linker libs
LFLAGS = /LIBPATH:../libs/win glfw3.lib gdi32.lib user32.lib Shell32.lib Advapi32.lib

# Source files (relative from project/)
SOURCES = ../include/glad/glad.c \
          main.cpp Application.cpp GuiController.cpp PatternRenderer.cpp Shader.cpp \
          ../include/imgui/imgui.cpp \
          ../include/imgui/imgui_draw.cpp \
          ../include/imgui/imgui_tables.cpp \
          ../include/imgui/imgui_widgets.cpp \
          ../include/imgui/backends/imgui_impl_glfw.cpp \
          ../include/imgui/backends/imgui_impl_opengl3.cpp

TARGET = $(FILENAME).exe

.PHONY : all
all:
	$(CC) $(CCFLAGS) $(INCLUDES) $(SOURCES) /Fe:$(TARGET) /link $(LFLAGS)

.PHONY : clean
clean :
	
